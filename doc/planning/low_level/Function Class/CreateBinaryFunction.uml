@startuml
title Make Binary Function

partition Binary {
(*) --> "Parse eL @ eR"
--> "Make Node for op @
Add @ as head node"
--> ===Rep1===
--> Parse eL
--> "Is eL a leaf?"
-->[yes] "Create leaf node for eL
and attach to @ node" as endL

"Is eL a leaf?" -->[no] eL = fL % fR
--> "Create op node for %
and attach to @ node"
--> "Redefine @:=% 
eL:=fL, eR:=fR"
--> ===Rep1===

endL --> Parse eR
--> "Is eR a leaf?"
-->[yes] "Create leaf node for eR
and attach to @ node" as endR
--> (*)

"Is eR a leaf?" -->[no] eR = gL & gR
--> "Create op node for &
and attach to @ node"
--> "Redefine @:=&
eL:=gL, eR:=gR"
--> ===Rep1===

}

@enduml